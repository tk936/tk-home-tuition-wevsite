<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TK Home Tuition Jaipur | Master Business App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .panel { display: none; }
        .active { display: block; }
        .tk-blue { background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%); }
        .nav-active { color: #1e40af; border-bottom: 3px solid #1e40af; font-weight: bold; }
    </style>
</head>
<body class="bg-slate-50 font-sans pb-24">

    <nav class="bg-white shadow-md sticky top-0 z-50 px-6 py-4 flex justify-between items-center">
        <div class="font-black text-2xl text-blue-800 italic tracking-tighter">TK HOME TUITION</div>
        <div class="flex items-center gap-3">
            <div class="bg-yellow-400 text-blue-900 px-3 py-1 rounded-full text-[10px] font-black">
                <i class="fas fa-coins mr-1"></i> <span id="top-coins">1250</span>
            </div>
            <button onclick="showTab('admin')" class="bg-red-600 text-white px-3 py-1 rounded-lg text-[10px] font-bold uppercase">Admin Panel</button>
        </div>
    </nav>

    <div class="max-w-4xl mx-auto p-4 space-y-6">

        <div id="tab-student" class="panel active space-y-6">
            <div class="tk-blue text-white p-10 rounded-[2.5rem] text-center shadow-2xl">
                <h1 class="text-3xl font-black mb-2 uppercase italic">Jaipur's Best Tutors</h1>
                <p class="opacity-80 text-sm">5KM Range Discovery | Smart Matching | Free Demo</p>
                <button onclick="document.getElementById('demo-form').scrollIntoView({behavior:'smooth'})" class="mt-6 bg-yellow-400 text-blue-900 px-8 py-2 rounded-full font-black text-sm uppercase">Get Free Demo</button>
            </div>

            <div id="demo-form" class="bg-white p-8 rounded-[2rem] shadow-xl border">
                <h2 class="text-xl font-bold mb-6 text-blue-800 italic underline">Student Registration</h2>
                <div class="space-y-4">
                    <input type="text" id="s-name" placeholder="Student Name" class="w-full p-4 bg-gray-50 rounded-2xl border outline-none">
                    <div class="flex gap-2">
                        <input type="text" id="s-slot" placeholder="Time Slot (e.g. 4-5 PM)" class="flex-1 p-4 bg-gray-50 rounded-2xl border outline-none">
                        <button onclick="askLocation()" class="bg-blue-100 text-blue-700 px-4 rounded-2xl text-[10px] font-bold uppercase"><i class="fas fa-location-arrow"></i> Live Location</button>
                    </div>
                    <button onclick="findTeachers()" class="w-full bg-blue-700 text-white py-4 rounded-2xl font-black shadow-lg uppercase tracking-widest">Submit & Find Teachers</button>
                </div>

                <div id="discovery-results" class="mt-10 hidden border-t pt-6">
                    <h3 class="text-sm font-black text-gray-500 mb-4 uppercase italic">Tutors within 5KM of your location:</h3>
                    <div id="teacher-list-discovery" class="space-y-4">
                        </div>
                </div>
            </div>
        </div>

        <div id="tab-teacher" class="panel space-y-6">
            <div class="bg-white p-8 rounded-[2.5rem] shadow-xl border">
                <h2 class="text-2xl font-black mb-6 text-blue-900 italic uppercase">Teacher Registration</h2>
                <div class="space-y-4">
                    <input type="text" id="t-name-reg" placeholder="Full Name" class="w-full p-4 bg-gray-50 border rounded-2xl outline-none">
                    <input type="number" id="t-phone-reg" placeholder="WhatsApp Number" class="w-full p-4 bg-gray-50 border rounded-2xl outline-none">
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="border-2 border-dashed border-gray-200 p-6 rounded-2xl text-center">
                            <p class="text-[9px] font-bold text-gray-400 uppercase mb-2">Resume (Image)</p>
                            <input type="file" class="text-[8px]">
                        </div>
                        <div class="border-2 border-dashed border-gray-200 p-6 rounded-2xl text-center">
                            <p class="text-[9px] font-bold text-gray-400 uppercase mb-2">1-Min Demo Video</p>
                            <input type="file" class="text-[8px]">
                        </div>
                    </div>
                    <button onclick="alert('Profile Submitted! Tinkal Sir will review your Resume & Video.')" class="w-full bg-blue-900 text-white py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl">Submit My Profile</button>
                </div>
            </div>
        </div>

        <div id="tab-academy" class="panel space-y-6 text-center">
            <div class="bg-gradient-to-br from-yellow-400 to-orange-500 p-10 rounded-[2.5rem] text-white shadow-xl relative overflow-hidden">
                <p class="text-[10px] font-black uppercase tracking-widest opacity-80">My TK Coins Wallet</p>
                <h2 class="text-7xl font-black my-2 italic" id="coin-val">1250</h2>
                <i class="fas fa-coins absolute -right-6 -bottom-6 text-[10rem] opacity-10"></i>
            </div>
            
            <div class="bg-white p-6 rounded-[2.5rem] shadow-xl border-2 border-dashed border-blue-200">
                <h3 class="text-xl font-black text-blue-800 italic mb-2">Reverse Teaching Mode</h3>
                <p class="text-xs text-gray-400 mb-6 font-bold uppercase tracking-widest">Earn 50 Coins for Teaching!</p>
                <div class="bg-blue-50 border-2 border-dashed border-blue-400 p-10 rounded-3xl">
                    <i class="fas fa-video text-3xl text-blue-600 mb-2"></i>
                    <p class="text-xs font-bold text-blue-700 uppercase">Upload Today's Topic Video</p>
                    <input type="file" accept="video/*" class="mt-4 text-[10px]" onchange="awardCoins()">
                </div>
            </div>
        </div>

        <div id="tab-admin" class="panel space-y-6">
            <div class="bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl">
                <h2 class="text-2xl font-black italic text-red-500 underline mb-6 uppercase tracking-widest">Tinkal's Dashboard</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-white/5 border border-white/10 p-5 rounded-3xl">
                        <p class="text-[10px] opacity-60 font-bold uppercase tracking-widest">Total Admin Profit</p>
                        <p class="text-3xl font-black text-yellow-400" id="total-revenue">₹0</p>
                    </div>
                    <div class="bg-white/5 border border-white/10 p-5 rounded-3xl text-right">
                        <p class="text-[10px] opacity-60 font-bold uppercase tracking-widest">Active Tutors</p>
                        <p class="text-3xl font-black text-blue-400">12</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-[2rem] shadow-xl border overflow-hidden">
                <div class="bg-gray-100 p-5 font-black text-xs italic text-gray-600 flex justify-between items-center">
                    <span>FINANCE: 25% (1ST MO) | 5% (RECURRING)</span>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-[11px] font-medium border-collapse">
                        <thead>
                            <tr class="bg-gray-50 border-b">
                                <th class="p-5 uppercase text-gray-400">Student/Tutor</th>
                                <th class="p-5 uppercase text-gray-400">Month</th>
                                <th class="p-5 uppercase text-blue-700 italic">TK Cut</th>
                                <th class="p-5 uppercase text-gray-400">WhatsApp</th>
                            </tr>
                        </thead>
                        <tbody id="admin-finance-table" class="divide-y italic font-bold">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t flex justify-around items-center p-3 shadow-2xl z-[100]">
        <button onclick="showTab('student')" id="nav-student" class="nav-btn text-blue-600 flex flex-col items-center gap-1">
            <i class="fas fa-home text-xl"></i><span class="text-[9px] font-black uppercase">Demo</span>
        </button>
        <button onclick="showTab('teacher')" id="nav-teacher" class="nav-btn text-gray-400 flex flex-col items-center gap-1">
            <i class="fas fa-chalkboard-teacher text-xl"></i><span class="text-[9px] font-black uppercase">Register</span>
        </button>
        <button onclick="showTab('academy')" id="nav-academy" class="nav-btn text-gray-400 flex flex-col items-center gap-1">
            <i class="fas fa-medal text-xl"></i><span class="text-[9px] font-black uppercase">Academy</span>
        </button>
    </div>

    <script>
        // --- REAL BUSINESS LOGIC ---
        let currentCoins = 1250;
        let adminProfit = 0;

        const mockTeachers = [
            { name: "Rahul Bansal", subject: "Maths", distance: "1.2 km", rating: "4.9" },
            { name: "Sunita Verma", subject: "Science", distance: "3.5 km", rating: "4.7" },
            { name: "Amit Meena", subject: "English", distance: "4.8 km", rating: "4.5" }
        ];

        const financeData = [
            { student: "Aman Jain", tutor: "Rahul B.", fee: 6000, month: 1 }, // 25%
            { student: "Sia Sharma", tutor: "Sunita V.", fee: 4000, month: 2 } // 5%
        ];

        function showTab(tabId) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.getElementById('tab-' + tabId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.replace('text-blue-600', 'text-gray-400'));
            const activeNav = document.getElementById('nav-' + tabId);
            if(activeNav) activeNav.classList.replace('text-gray-400', 'text-blue-600');
            
            if(tabId === 'admin') loadAdminFinance();
        }

        function askLocation() {
            alert("Live Location Permission Granted! Analyzing Jaipur Geofence...");
            document.getElementById('s-name').style.borderColor = "#22c55e";
        }

        function findTeachers() {
            const listArea = document.getElementById('discovery-results');
            const listContent = document.getElementById('teacher-list-discovery');
            listArea.classList.remove('hidden');
            listContent.innerHTML = "";

            mockTeachers.forEach(t => {
                listContent.innerHTML += `
                    <div class="bg-white p-5 rounded-[2rem] border-2 border-transparent hover:border-blue-500 transition shadow-md flex justify-between items-center">
                        <div>
                            <p class="font-black text-gray-800">${t.name} <span class="text-yellow-500 text-[10px]">★ ${t.rating}</span></p>
                            <p class="text-[10px] text-blue-500 font-bold italic uppercase tracking-tighter">${t.subject} Expert</p>
                            <p class="text-[10px] text-gray-400 font-bold italic uppercase tracking-tighter"><i class="fas fa-map-marker-alt"></i> ${t.distance} Away</p>
                        </div>
                        <button onclick="requestDemo('${t.name}')" class="bg-blue-700 text-white px-4 py-2 rounded-xl text-[10px] font-black italic uppercase">Request Demo</button>
                    </div>
                `;
            });
            listArea.scrollIntoView({ behavior: 'smooth' });
        }

        function requestDemo(teacherName) {
            const stu = document.getElementById('s-name').value || "Guest";
            const slot = document.getElementById('s-slot').value || "Not Set";
            const msg = `Namaste! TK Home Tuition Jaipur\n\nDemo Request:\nStudent: ${stu}\nTeacher: ${teacherName}\nSlot: ${slot}\n\nKripya confirm karein!`;
            window.open(`https://wa.me/91XXXXXXXXXX?text=${encodeURIComponent(msg)}`);
        }

        function awardCoins() {
            alert("Video Uploaded! Tinkal Sir ko notification bhej diya gaya hai.");
            setTimeout(() => {
                currentCoins += 50;
                document.getElementById('coin-val').innerText = currentCoins;
                document.getElementById('top-coins').innerText = currentCoins;
                alert("Mubarak ho! +50 TK Coins added to your wallet.");
            }, 1500);
        }

        function loadAdminFinance() {
            const table = document.getElementById('admin-finance-table');
            let total = 0;
            table.innerHTML = "";

            financeData.forEach(f => {
                const rate = f.month === 1 ? 0.25 : 0.05;
                const tkCut = f.fee * rate;
                total += tkCut;

                table.innerHTML += `
                    <tr class="hover:bg-blue-50 transition border-b">
                        <td class="p-5 font-black text-gray-800 italic">${f.student}<br><span class="text-[9px] text-gray-400 font-light italic">with ${f.tutor}</span></td>
                        <td class="p-5"><span class="bg-${f.month === 1 ? 'purple' : 'slate'}-100 text-${f.month === 1 ? 'purple' : 'slate'}-700 px-2 py-1 rounded text-[9px] font-black">${f.month === 1 ? 'NEW Match' : 'Month ' + f.month}</span></td>
                        <td class="p-5 font-black text-blue-700 italic">₹${tkCut} <span class="text-[8px] opacity-40">(${rate*100}%)</span></td>
                        <td class="p-5 text-center"><button onclick="alert('WhatsApp Alert Sent!')" class="text-green-500"><i class="fab fa-whatsapp text-lg"></i></button></td>
                    </tr>
                `;
            });
            document.getElementById('total-revenue').innerText = "₹" + total;
        }
    </script>
</body>
</html>
