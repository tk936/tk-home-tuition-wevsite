<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TK Home Tuition | Jaipur's No.1 Edu-Tech</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .panel { display: none; transition: all 0.5s ease; }
        .active { display: block; }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .tk-dark { background: #0f172a; }
        .coin-glow { box-shadow: 0 0 15px rgba(255, 215, 0, 0.4); }
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: #1e40af; border-radius: 10px; }
    </style>
</head>
<body class="bg-slate-100 font-sans pb-24">

    <nav class="tk-dark text-white p-4 sticky top-0 z-50 flex justify-between items-center shadow-2xl">
        <div class="flex items-center gap-2">
            <div class="bg-blue-600 p-2 rounded-lg text-white font-black italic">TK</div>
            <h1 class="text-xl font-black italic tracking-tighter">HOME TUITION</h1>
        </div>
        <div class="flex items-center gap-3">
            <div class="bg-white/10 px-3 py-1 rounded-full flex items-center gap-2 coin-glow">
                <i class="fas fa-coins text-yellow-400"></i>
                <span id="nav-coins" class="font-black text-sm text-yellow-400">1250</span>
            </div>
            <button onclick="showTab('admin')" class="bg-red-600 text-[10px] font-bold px-3 py-1.5 rounded-md hover:bg-red-700">ADMIN</button>
        </div>
    </nav>

    <div class="max-w-4xl mx-auto p-4 space-y-6">

        <div id="tab-find" class="panel active space-y-6">
            <div class="bg-blue-700 text-white p-8 rounded-[2rem] shadow-2xl relative overflow-hidden">
                <div class="relative z-10">
                    <h2 class="text-3xl font-black italic mb-2">Dhoondho Best Teacher!</h2>
                    <p class="text-xs opacity-80 mb-6 uppercase tracking-widest font-bold">Location-Based Smart Matching</p>
                    <div class="flex flex-col gap-3">
                        <button onclick="detectLiveLoc()" class="w-full bg-white/20 border border-white/30 py-3 rounded-2xl flex items-center justify-center gap-2 font-bold hover:bg-white/30 transition">
                            <i class="fas fa-location-arrow"></i> Detect My Area
                        </button>
                        <div class="grid grid-cols-2 gap-2">
                            <select id="f-class" class="bg-white text-gray-800 p-3 rounded-xl text-xs font-bold border-none outline-none">
                                <option>Select Class</option>
                                <option>1st - 5th</option>
                                <option>6th - 10th</option>
                                <option>11th - 12th</option>
                            </select>
                            <select id="f-sub" class="bg-white text-gray-800 p-3 rounded-xl text-xs font-bold border-none outline-none">
                                <option>Subject</option>
                                <option>Maths</option>
                                <option>Science</option>
                                <option>All Subjects</option>
                            </select>
                        </div>
                        <button onclick="searchTutors()" class="bg-yellow-400 text-blue-900 py-4 rounded-2xl font-black uppercase text-sm shadow-xl hover:scale-105 transition">Show Nearby Tutors</button>
                    </div>
                </div>
                <i class="fas fa-user-graduate absolute -right-4 -bottom-4 text-9xl opacity-10"></i>
            </div>

            <div class="bg-white p-5 rounded-3xl shadow-sm border flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <i class="fas fa-trophy text-2xl text-yellow-500"></i>
                    <div>
                        <p class="text-[10px] font-bold text-gray-400 uppercase">Jaipur Leaderboard</p>
                        <p class="text-xs font-black">#1 Aryan Sharma (2450 TK)</p>
                    </div>
                </div>
                <button class="text-blue-600 text-[10px] font-bold">VIEW ALL <i class="fas fa-arrow-right"></i></button>
            </div>

            <div id="results" class="hidden space-y-4">
                <h3 class="font-black text-gray-700 italic px-2">Verified Tutors in 5KM:</h3>
                <div class="space-y-4" id="teacher-list">
                    <div class="bg-white p-5 rounded-[2rem] shadow-md border-2 border-transparent hover:border-blue-500 transition relative">
                        <span class="absolute top-4 right-4 bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-[8px] font-black uppercase tracking-tighter">Police Verified <i class="fas fa-check-circle"></i></span>
                        <div class="flex gap-4">
                            <div class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center text-2xl font-black text-blue-600 shadow-inner">AS</div>
                            <div>
                                <h4 class="font-black text-lg">Anil Sharma <span class="text-yellow-500 text-xs">★ 4.9</span></h4>
                                <p class="text-xs text-gray-400 italic font-medium">B.Tech | 5 Years Exp.</p>
                                <p class="text-[10px] text-green-600 font-black mt-2 uppercase tracking-widest"><i class="fas fa-map-marker-alt"></i> 1.8 KM (Mansarovar)</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-2 mt-4">
                            <button class="bg-gray-100 text-gray-700 py-2 rounded-xl text-[10px] font-bold uppercase"><i class="fas fa-play"></i> Demo Video</button>
                            <button onclick="requestDemo('Anil Sharma')" class="bg-blue-600 text-white py-2 rounded-xl text-[10px] font-bold uppercase shadow-lg">Request Match</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-learn" class="panel space-y-6">
            <div class="bg-white p-6 rounded-3xl shadow-md">
                <h4 class="font-black text-sm mb-4 italic flex items-center gap-2"><i class="fas fa-calendar-check text-green-500"></i> Study Consistency</h4>
                <div class="flex gap-1 overflow-x-auto pb-2" id="heatmap">
                    </div>
                <p class="text-[10px] text-gray-400 mt-2 font-bold italic underline">Keep it Green to win Surprise Gifts!</p>
            </div>

            <div class="bg-gradient-to-br from-indigo-600 to-purple-700 p-8 rounded-[2.5rem] text-white shadow-xl relative">
                <h3 class="text-2xl font-black italic mb-2 leading-tight">Video Feedback Challenge</h3>
                <p class="text-xs opacity-80 mb-6">Aaj jo padha hai use 1 minute mein samjhao aur 100 Coins kamao!</p>
                <input type="file" id="vid-upload" class="hidden">
                <label for="vid-upload" class="bg-white text-indigo-700 px-8 py-4 rounded-2xl font-black shadow-lg cursor-pointer flex items-center justify-center gap-2 text-sm uppercase">
                    <i class="fas fa-cloud-upload-alt text-lg"></i> Upload Video
                </label>
            </div>
        </div>

        <div id="tab-admin" class="panel space-y-6">
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-white p-6 rounded-3xl shadow-md border-l-8 border-blue-600">
                    <p class="text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest">TK Net Revenue</p>
                    <p class="text-3xl font-black text-blue-800 italic" id="admin-rev">₹0</p>
                </div>
                <div class="bg-white p-6 rounded-3xl shadow-md border-l-8 border-red-500">
                    <p class="text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest">Late Fees Due</p>
                    <p class="text-3xl font-black text-red-600 italic">₹4,500</p>
                </div>
            </div>

            <div class="bg-white rounded-3xl shadow-xl overflow-hidden border">
                <div class="bg-slate-800 text-white p-4 font-black text-[10px] uppercase tracking-widest italic">Finance & Payout Center</div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-[11px] border-collapse">
                        <thead>
                            <tr class="bg-gray-50 text-gray-400 uppercase font-black border-b">
                                <th class="p-4">Student/Tutor</th>
                                <th class="p-4">Month</th>
                                <th class="p-4">Total Fee</th>
                                <th class="p-4 text-blue-600">TK Profit</th>
                                <th class="p-4 text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody id="finance-table" class="divide-y italic font-medium">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t flex justify-around items-center p-3 shadow-2xl z-[100]">
        <button onclick="showTab('find')" class="flex flex-col items-center gap-1 text-blue-600" id="btn-find">
            <i class="fas fa-search text-xl"></i><span class="text-[9px] font-black uppercase">Search</span>
        </button>
        <button onclick="showTab('learn')" class="flex flex-col items-center gap-1 text-gray-400" id="btn-learn">
            <i class="fas fa-graduation-cap text-xl"></i><span class="text-[9px] font-black uppercase">Academy</span>
        </button>
        <button onclick="showTab('gift')" class="flex flex-col items-center gap-1 text-gray-400" id="btn-gift">
            <i class="fas fa-gift text-xl"></i><span class="text-[9px] font-black uppercase">Store</span>
        </button>
        <button onclick="showTab('profile')" class="flex flex-col items-center gap-1 text-gray-400" id="btn-profile">
            <i class="fas fa-user-circle text-xl"></i><span class="text-[9px] font-black uppercase">Me</span>
        </button>
    </div>

    <script>
        // Data State
        let revenueRecords = [
            { name: "Rahul Bansal", tutor: "Sunita M.", fee: 5000, month: 1 }, // 25%
            { name: "Aman Gupta", tutor: "Anil S.", fee: 4000, month: 3 },    // 5%
            { name: "Sia Jain", tutor: "Rahul P.", fee: 6000, month: 1 }      // 25%
        ];

        // 1. Tab Management Logic
        function showTab(id) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.getElementById('tab-' + id).classList.add('active');
            
            // Bottom Nav Colors
            document.querySelectorAll('.fixed button').forEach(b => b.classList.replace('text-blue-600', 'text-gray-400'));
            document.getElementById('btn-' + id).classList.replace('text-gray-400', 'text-blue-600');
            
            if(id === 'admin') loadFinance();
        }

        // 2. Heatmap Generator (Idea 4)
        function generateHeatmap() {
            const heatmap = document.getElementById('heatmap');
            for(let i=0; i<30; i++) {
                const day = document.createElement('div');
                const isGreen = Math.random() > 0.3;
                day.className = `w-6 h-6 rounded-md flex-shrink-0 ${isGreen ? 'bg-green-500' : 'bg-red-300'} shadow-sm`;
                heatmap.appendChild(day);
            }
        }

        // 3. Finance & Profit Calculator (25%/5% Model)
        function loadFinance() {
            const table = document.getElementById('finance-table');
            let totalAdminRev = 0;
            table.innerHTML = "";

            revenueRecords.forEach(r => {
                const rate = r.month === 1 ? 0.25 : 0.05;
                const adminProfit = r.fee * rate;
                totalAdminRev += adminProfit;

                table.innerHTML += `
                    <tr class="hover:bg-blue-50">
                        <td class="p-4">
                            <p class="font-black text-gray-800">${r.name}</p>
                            <p class="text-[8px] text-gray-400 uppercase font-bold tracking-tight">Tutor: ${r.tutor}</p>
                        </td>
                        <td class="p-4">
                            <span class="${r.month === 1 ? 'bg-purple-100 text-purple-700' : 'bg-slate-100 text-slate-500'} px-2 py-0.5 rounded-full font-black text-[9px]">
                                ${r.month === 1 ? 'NEW Match' : 'Month ' + r.month}
                            </span>
                        </td>
                        <td class="p-4 font-black text-gray-600 text-xs">₹${r.fee}</td>
                        <td class="p-4 font-black text-blue-600 text-xs">₹${adminProfit} <span class="text-[8px] opacity-40">(${rate*100}%)</span></td>
                        <td class="p-4 text-center">
                            <button onclick="alert('WhatsApp Alert Sent!')" class="text-green-500 hover:scale-110 transition"><i class="fab fa-whatsapp text-lg"></i></button>
                        </td>
                    </tr>
                `;
            });
            document.getElementById('admin-rev').innerText = "₹" + totalAdminRev;
        }

        // 4. Discovery Functions
        function detectLiveLoc() {
            alert("Jaipur Live Geofence Activated! Detecting Area: Mansarovar Sector 5...");
        }

        function searchTutors() {
            document.getElementById('results').classList.remove('hidden');
            window.scrollBy({ top: 300, behavior: 'smooth' });
        }

        function requestDemo(name) {
            const msg = `Namaste! TK Home Tuition Jaipur se Match Request: \n\nStudent: Guest\nTeacher: ${name}\nArea: Jaipur\n\nKripya confirm karein!`;
            window.open(`https://wa.me/91XXXXXXXXXX?text=${encodeURIComponent(msg)}`);
        }

        // Initial Runs
        generateHeatmap();
    </script>
</body>
</html>
