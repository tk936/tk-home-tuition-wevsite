<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TK Home Tuition | Full-Stack Master System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .panel { display: none; }
        .active { display: block; }
        .tk-dark { background: #131921; }
        .amazon-orange { background: #febd69; }
        .nav-link.active-tab { border-bottom: 4px solid #febd69; color: #febd69 !important; }
    </style>
</head>
<body class="bg-gray-100 font-sans pb-20">

    <header class="tk-dark text-white sticky top-0 z-50 p-4 shadow-xl">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2 cursor-pointer" onclick="showTab('home')">
                <div class="bg-orange-400 p-2 rounded text-black font-black italic">TK</div>
                <h1 class="text-xl font-black italic text-orange-400 tracking-tighter uppercase">Home Tuition</h1>
            </div>
            
            <div class="hidden md:flex flex-1 mx-10">
                <input type="text" placeholder="Search Teachers in Jaipur..." class="w-full p-2 rounded-l-md text-black outline-none">
                <button class="amazon-orange p-2 px-6 rounded-r-md text-black"><i class="fas fa-search"></i></button>
            </div>

            <div class="flex items-center gap-6">
                <div class="flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full border border-white/20">
                    <i class="fas fa-coins text-yellow-400"></i>
                    <span id="global-coins" class="font-black text-yellow-400">1250</span>
                </div>
                <button onclick="showTab('admin')" class="bg-red-600 text-[10px] font-bold px-3 py-1.5 rounded uppercase hover:bg-red-700">Admin Control</button>
            </div>
        </div>
    </header>

    <div class="max-w-6xl mx-auto p-4 space-y-8">

        <main id="tab-home" class="panel active space-y-8">
            <section class="bg-gradient-to-r from-blue-900 to-blue-700 text-white p-12 rounded-[2.5rem] text-center shadow-2xl relative overflow-hidden">
                <h2 class="text-4xl font-black italic mb-2">Dhoondho Best Home Tutor!</h2>
                <p class="text-xs font-bold opacity-80 uppercase tracking-[0.3em] mb-8">5KM Distance Matching | GPS Verified</p>
                
                <div class="max-w-md mx-auto bg-white p-8 rounded-3xl shadow-2xl text-gray-800 space-y-4 border-b-8 border-orange-400">
                    <input type="text" id="stu-name" placeholder="Student Name" class="w-full p-4 bg-gray-50 rounded-xl border outline-none">
                    <div class="flex gap-2">
                        <input type="text" id="stu-slot" placeholder="Time Slot (e.g. 5 PM)" class="flex-1 p-4 bg-gray-50 rounded-xl border text-xs">
                        <button onclick="detectLoc()" class="bg-blue-100 text-blue-700 px-4 rounded-xl text-[10px] font-black uppercase"><i class="fas fa-crosshairs"></i> GPS</button>
                    </div>
                    <button onclick="searchTutors()" class="amazon-orange w-full py-4 rounded-xl font-black text-black uppercase shadow-lg">Show Nearby Teachers</button>
                </div>
            </section>

            <div id="results-area" class="hidden space-y-6">
                <h3 class="font-black text-gray-700 italic px-2 border-l-4 border-orange-400 pl-4">Verified Tutors Near Your Location:</h3>
                <div id="tutor-cards" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    </div>
            </div>
        </main>

        <main id="tab-teacher" class="panel space-y-6">
            <div class="bg-white p-10 rounded-[2.5rem] shadow-xl border border-gray-200">
                <h2 class="text-2xl font-black text-blue-900 italic mb-8 uppercase tracking-widest border-b pb-4">Tutor Onboarding</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="space-y-4">
                        <label class="text-[10px] font-bold text-gray-400 uppercase">Basic Information</label>
                        <input type="text" placeholder="Full Name" class="w-full p-4 bg-gray-50 border rounded-2xl outline-none">
                        <input type="number" placeholder="WhatsApp Number" class="w-full p-4 bg-gray-50 border rounded-2xl outline-none">
                        <textarea placeholder="Subjects & Experience" class="w-full p-4 bg-gray-50 border rounded-2xl h-32 outline-none"></textarea>
                    </div>
                    <div class="space-y-6">
                        <label class="text-[10px] font-bold text-gray-400 uppercase">Mandatory Documents</label>
                        <div class="border-4 border-dashed border-gray-100 p-8 rounded-3xl text-center bg-blue-50/30">
                            <i class="fas fa-image text-3xl text-blue-300 mb-2"></i>
                            <p class="text-[10px] font-black text-blue-900 uppercase mb-2">Upload Resume Photo</p>
                            <input type="file" class="text-[8px] mx-auto">
                        </div>
                        <div class="border-4 border-dashed border-gray-100 p-8 rounded-3xl text-center bg-blue-50/30">
                            <i class="fas fa-play-circle text-3xl text-blue-300 mb-2"></i>
                            <p class="text-[10px] font-black text-blue-900 uppercase mb-2">1-Min Demo Video</p>
                            <input type="file" class="text-[8px] mx-auto">
                        </div>
                    </div>
                </div>
                <button onclick="alert('Success! Your Resume & Video sent for verification.')" class="w-full mt-10 tk-dark text-orange-400 py-5 rounded-2xl font-black uppercase tracking-widest shadow-2xl">Submit Profile for Review</button>
            </div>
        </main>

        <main id="tab-admin" class="panel space-y-8">
            <div class="tk-dark text-white p-10 rounded-[3rem] shadow-2xl border-b-8 border-orange-400">
                <div class="flex justify-between items-center mb-10">
                    <h2 class="text-2xl font-black italic text-orange-400 underline uppercase tracking-widest">Tinkal Bhai's Control Room</h2>
                    <span class="bg-green-500/20 text-green-400 px-4 py-1 rounded-full text-[10px] font-black">SYSTEM LIVE</span>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="bg-white/5 p-5 rounded-3xl border border-white/10">
                        <p class="text-[9px] opacity-60 font-black uppercase">Net TK Profit</p>
                        <p class="text-3xl font-black text-yellow-400 italic" id="admin-total">â‚¹0</p>
                    </div>
                    <div class="bg-white/5 p-5 rounded-3xl border border-white/10 text-right">
                        <p class="text-[9px] opacity-60 font-black uppercase">Active Tutors</p>
                        <p class="text-3xl font-black text-blue-400 italic">15</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-[2.5rem] shadow-2xl border-2 border-gray-100 overflow-hidden">
                <div class="bg-orange-400 p-5 font-black text-xs italic text-black flex justify-between">
                    <span>TRANSACTION LEDGER: 25% (NEW) | 5% (ONGOING)</span>
                    <button class="bg-black text-white px-3 py-1 rounded text-[8px]">EXPORT DATA</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-[11px] font-bold italic border-collapse">
                        <thead>
                            <tr class="bg-gray-50 border-b text-gray-400 uppercase">
                                <th class="p-6">Student / Tutor</th>
                                <th class="p-6">Match Cycle</th>
                                <th class="p-6">Gross Fee</th>
                                <th class="p-6 text-blue-700 underline">TK Commission</th>
                                <th class="p-6 text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody id="finance-rows" class="divide-y">
                            </tbody>
                    </table>
                </div>
            </div>
        </main>

    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around items-center p-3 shadow-2xl md:hidden z-[100]">
        <button onclick="showTab('home')" class="nav-link flex flex-col items-center gap-1 active-tab">
            <i class="fas fa-home"></i><span class="text-[9px] font-black uppercase">Find</span>
        </button>
        <button onclick="showTab('teacher')" class="nav-link flex flex-col items-center gap-1 text-gray-400">
            <i class="fas fa-user-plus"></i><span class="text-[9px] font-black uppercase">Join</span>
        </button>
        <button onclick="showTab('admin')" class="nav-link flex flex-col items-center gap-1 text-gray-400">
            <i class="fas fa-user-shield"></i><span class="text-[9px] font-black uppercase">Admin</span>
        </button>
    </div>

    <script>
        // MASTER SYSTEM STATE
        let coins = 1250;
        const mockTutors = [
            { name: "Rahul Bansal", sub: "Maths", dist: "1.2 km", rate: "4.9" },
            { name: "Suman Verma", sub: "Science", dist: "3.5 km", rate: "4.8" }
        ];
        const ledger = [
            { stu: "Aryan Bansal", tutor: "Rahul B.", fee: 6000, month: 1 }, // 25% model
            { stu: "Mehak Jain", tutor: "Suman V.", fee: 4000, month: 3 }   // 5% model
        ];

        function showTab(id) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.getElementById('tab-' + id).classList.add('active');
            
            // UI Nav Highlight
            document.querySelectorAll('.nav-link').forEach(btn => btn.classList.remove('active-tab', 'text-gray-400'));
            const activeNav = document.querySelector(`[onclick="showTab('${id}')"]`);
            if(activeNav) activeNav.classList.add('active-tab');
            
            if(id === 'admin') loadFinance();
        }

        function detectLoc() {
            alert("Live GPS Syncing... Location Verified: Jaipur 302020. Filtering 5KM Radius.");
            document.getElementById('stu-name').style.border = "2px solid #22c55e";
        }

        function searchTutors() {
            const list = document.getElementById('results-area');
            const container = document.getElementById('tutor-cards');
            list.classList.remove('hidden');
            container.innerHTML = "";

            mockTutors.forEach(t => {
                container.innerHTML += `
                    <div class="bg-white p-6 rounded-[2rem] border-2 border-transparent hover:border-orange-400 transition shadow-lg flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <div class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center font-black text-blue-700 text-xl shadow-inner italic">T</div>
                            <div>
                                <p class="font-black text-gray-800 text-lg italic">${t.name} <span class="text-orange-500 text-xs">â˜… ${t.rate}</span></p>
                                <p class="text-[10px] text-blue-600 font-black uppercase tracking-widest">${t.sub} Expert</p>
                                <p class="text-[10px] text-gray-400 font-bold italic uppercase tracking-tighter"><i class="fas fa-map-marker-alt"></i> ${t.dist} From Your Home</p>
                            </div>
                        </div>
                        <button onclick="sendMatchRequest('${t.name}')" class="amazon-orange text-black px-6 py-2 rounded-xl text-[10px] font-black uppercase italic shadow-md">Request Demo</button>
                    </div>
                `;
            });
            list.scrollIntoView({ behavior: 'smooth' });
        }

        function sendMatchRequest(tName) {
            const stu = document.getElementById('stu-name').value || "Guest Student";
            const slot = document.getElementById('stu-slot').value || "Not Set";
            const msg = `TK HOME TUITION JAIPUR:\n\nðŸ”¥ New Match Request!\nStudent: ${stu}\nTeacher: ${tName}\nTime Slot: ${slot}\n\nKripya confirm karein!`;
            window.open(`https://wa.me/91XXXXXXXXXX?text=${encodeURIComponent(msg)}`);
        }

        function loadFinance() {
            const body = document.getElementById('finance-rows');
            let totalProfit = 0;
            body.innerHTML = "";

            ledger.forEach(l => {
                const rate = l.month === 1 ? 0.25 : 0.05;
                const cut = l.fee * rate;
                totalProfit += cut;

                body.innerHTML += `
                    <tr class="hover:bg-orange-50 transition border-b">
                        <td class="p-6 text-gray-800 font-black italic">${l.stu}<br><span class="text-[9px] text-gray-400 font-medium italic uppercase tracking-widest">Tutor: ${l.tutor}</span></td>
                        <td class="p-6"><span class="${l.month === 1 ? 'bg-orange-100 text-orange-600' : 'bg-gray-100 text-gray-500'} px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest">${l.month === 1 ? 'NEW MATCH' : 'RECURRING'}</span></td>
                        <td class="p-6 text-gray-700 font-black italic">â‚¹${l.fee}</td>
                        <td class="p-6 text-blue-700 font-black italic underline">â‚¹${cut} <span class="text-[8px] opacity-40">(${rate*100}%)</span></td>
                        <td class="p-6 text-center"><button onclick="alert('WhatsApp Alert Sent!')" class="text-green-500 hover:scale-125 transition"><i class="fab fa-whatsapp text-xl"></i></button></td>
                    </tr>
                `;
            });
            document.getElementById('admin-total').innerText = "â‚¹" + totalProfit;
        }
    </script>
</body>
</html>
