<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TK Home Tuition | Amazon-Style Edu Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .amazon-orange { background-color: #febd69; }
        .amazon-dark { background-color: #131921; }
        .panel { display: none; }
        .active { display: block; }
        .status-dot { height: 10px; width: 10px; border-radius: 50%; display: inline-block; }
        .tab-active { border-bottom: 4px solid #febd69; color: #febd69 !important; }
        .product-card:hover { border: 1px solid #febd69; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
    </style>
</head>
<body class="bg-gray-100 font-sans pb-24">

    <header class="amazon-dark text-white sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-2 flex items-center justify-between">
            <div class="flex items-center gap-4">
                <div class="text-2xl font-black italic text-orange-400">TK HOME</div>
                <div class="hidden md:flex flex-col text-xs">
                    <span class="text-gray-400">Deliver to</span>
                    <span class="font-bold"><i class="fas fa-map-marker-alt"></i> Jaipur, Rajasthan</span>
                </div>
            </div>
            
            <div class="flex-1 mx-6 hidden md:flex">
                <select class="p-2 bg-gray-200 text-black text-xs rounded-l-md border-r border-gray-300 outline-none">
                    <option>All Subjects</option>
                    <option>Maths</option>
                    <option>Science</option>
                </select>
                <input type="text" placeholder="Search for best tutors near you..." class="w-full p-2 text-black outline-none">
                <button class="amazon-orange p-2 rounded-r-md text-black px-5 hover:bg-orange-400 transition">
                    <i class="fas fa-search"></i>
                </button>
            </div>

            <div class="flex items-center gap-6">
                <div onclick="showTab('admin')" class="cursor-pointer text-xs flex flex-col">
                    <span>Hello, Tinkal</span>
                    <span class="font-bold uppercase tracking-widest text-orange-400">Admin Panel</span>
                </div>
                <div class="flex items-center gap-1 font-bold text-orange-400">
                    <i class="fas fa-coins text-xl"></i>
                    <span id="nav-coins">1,250</span>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto p-4 flex flex-col md:flex-row gap-6">

        <aside class="w-full md:w-64 bg-white p-4 rounded shadow-sm h-fit">
            <h3 class="font-bold text-sm mb-4">Filters</h3>
            <div class="space-y-4 text-xs">
                <div>
                    <p class="font-bold mb-2 italic underline">Range (Jaipur)</p>
                    <label class="flex items-center gap-2"><input type="checkbox" checked> Under 5 KM</label>
                    <label class="flex items-center gap-2 mt-1"><input type="checkbox"> Under 10 KM</label>
                </div>
                <div>
                    <p class="font-bold mb-2">Teacher Rating</p>
                    <p class="text-yellow-500 cursor-pointer">★★★★☆ & Up</p>
                    <p class="text-yellow-500 cursor-pointer">★★★☆☆ & Up</p>
                </div>
                <div>
                    <p class="font-bold mb-2">Commission Status</p>
                    <p class="text-blue-600 font-bold">New Match (25%)</p>
                    <p class="text-gray-500">Regular (5%)</p>
                </div>
            </div>
        </aside>

        <main class="flex-1">

            <section id="tab-home" class="panel active space-y-4">
                <div class="bg-blue-600 p-6 rounded text-white flex justify-between items-center shadow-md">
                    <div>
                        <h2 class="text-xl font-bold italic underline uppercase tracking-widest">Teacher Marketplace</h2>
                        <p class="text-xs opacity-80 mt-1 uppercase">Amazon-style instant matching with verified tutors.</p>
                    </div>
                    <button onclick="detectLoc()" class="bg-white text-blue-800 px-4 py-2 rounded font-bold text-xs uppercase shadow-inner shadow-black/20 tracking-tighter hover:scale-105 transition">Detect My Location <i class="fas fa-crosshairs"></i></button>
                </div>

                <div id="teacher-listing" class="grid grid-cols-1 gap-4">
                    <div class="bg-white p-4 flex gap-6 rounded shadow-sm border product-card transition-all">
                        <div class="w-32 h-32 bg-gray-100 flex-shrink-0 flex items-center justify-center rounded overflow-hidden">
                            <i class="fas fa-user-tie text-5xl text-gray-300"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="text-lg font-bold text-blue-700 hover:text-orange-700 cursor-pointer">Anil Sharma (Maths Expert)</h4>
                            <div class="flex items-center gap-1 text-yellow-500 text-xs my-1">
                                <span>★★★★☆</span>
                                <span class="text-blue-500 ml-2">128 Reviews | Police Verified ✅</span>
                            </div>
                            <p class="text-[10px] text-gray-500 italic uppercase font-bold tracking-tighter">Jaipur: Mansarovar Sector 5 (1.2 km away)</p>
                            <div class="mt-4 flex gap-4 items-center">
                                <span class="text-2xl font-black italic">₹500 <span class="text-xs font-normal">/hr</span></span>
                                <button onclick="requestDemo('Anil Sharma')" class="amazon-orange px-6 py-2 rounded-full text-xs font-bold shadow-md hover:shadow-lg">Request Free Demo</button>
                                <button class="bg-gray-200 px-6 py-2 rounded-full text-[10px] font-bold">View Profile & Video</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tab-academy" class="panel space-y-6">
                <div class="bg-white p-8 rounded shadow-sm border-t-4 border-orange-400">
                    <h3 class="text-2xl font-black italic mb-4 uppercase underline">Academy & Rewards</h3>
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="flex-1 bg-yellow-50 p-6 rounded-xl border border-yellow-200">
                            <p class="text-xs font-bold uppercase tracking-widest text-gray-400 mb-2">My TK Coins Balance</p>
                            <p id="coin-disp" class="text-6xl font-black text-yellow-600 italic">1,250</p>
                            <button onclick="awardCoins()" class="mt-6 w-full bg-blue-700 text-white py-4 rounded-xl font-black shadow-lg uppercase tracking-widest hover:bg-blue-800 transition">Upload Reverse Teaching Video <br><span class="text-[10px] font-normal italic opacity-80">+50 Coins Reward</span></button>
                        </div>
                        <div class="w-full md:w-64 bg-gray-50 p-4 rounded shadow-inner">
                            <p class="font-bold text-sm mb-4 underline italic">Study Heatmap (Attendance)</p>
                            <div id="heatmap" class="grid grid-cols-7 gap-1"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tab-admin" class="panel space-y-6">
                <div class="bg-gray-800 text-white p-6 rounded shadow-xl">
                    <h2 class="text-xl font-black italic underline uppercase tracking-widest text-orange-400 mb-4">TK Command Center</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white/10 p-4 rounded border border-white/20">
                            <p class="text-xs uppercase font-bold text-gray-400">Net Commission (INR)</p>
                            <p id="total-commission" class="text-3xl font-black italic">₹45,500</p>
                        </div>
                        <div class="bg-white/10 p-4 rounded border border-white/20">
                            <p class="text-xs uppercase font-bold text-gray-400">Active Match Count</p>
                            <p class="text-3xl font-black italic text-blue-400">12</p>
                        </div>
                        <div class="bg-white/10 p-4 rounded border border-white/20">
                            <p class="text-xs uppercase font-bold text-gray-400">New Onboarding</p>
                            <p class="text-3xl font-black italic text-orange-400">8</p>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded shadow-sm border overflow-hidden">
                    <div class="bg-gray-100 p-4 font-black text-sm uppercase tracking-tighter italic flex justify-between">
                        <span>Transaction Ledger (25% / 5% Splits)</span>
                        <span class="text-green-600">LIVE FEED</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-xs">
                            <thead>
                                <tr class="bg-gray-50 border-b">
                                    <th class="p-4 uppercase">Order Details</th>
                                    <th class="p-4 uppercase">Status</th>
                                    <th class="p-4 uppercase">Gross Fee</th>
                                    <th class="p-4 uppercase text-blue-700">TK Net Cut</th>
                                    <th class="p-4 uppercase">Teacher Net</th>
                                    <th class="p-4 uppercase">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-table" class="divide-y italic font-medium">
                                </tbody>
                        </table>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-white border-t p-3 flex justify-around items-center md:hidden shadow-2xl z-[60]">
        <button onclick="showTab('home')" id="nav-home" class="flex flex-col items-center gap-1 tab-active font-bold">
            <i class="fas fa-shopping-basket"></i><span class="text-[9px] uppercase font-black">Shop</span>
        </button>
        <button onclick="showTab('academy')" id="nav-academy" class="flex flex-col items-center gap-1 text-gray-400">
            <i class="fas fa-graduation-cap"></i><span class="text-[9px] uppercase font-black">Academy</span>
        </button>
        <button class="flex flex-col items-center gap-1 text-gray-400">
            <i class="fas fa-gift"></i><span class="text-[9px] uppercase font-black">Gifts</span>
        </button>
        <button class="flex flex-col items-center gap-1 text-gray-400">
            <i class="fas fa-user-circle"></i><span class="text-[9px] uppercase font-black">Me</span>
        </button>
    </div>

    <script>
        // DATA MODEL (25% + 5% Splitting)
        let transactions = [
            { id: "TX101", student: "Aman Jain", teacher: "Sunita M.", fee: 5000, month: 1 }, // 1st Month: 25%
            { id: "TX102", student: "Rahul B.", teacher: "Anil S.", fee: 4000, month: 3 }    // Recurring: 5%
        ];

        function showTab(tabId) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.getElementById('tab-' + tabId).classList.add('active');
            
            // Update Nav Styles
            document.querySelectorAll('.fixed button').forEach(b => b.classList.remove('tab-active', 'font-bold'));
            document.getElementById('nav-' + tabId)?.classList.add('tab-active', 'font-bold');
            
            if(tabId === 'admin') loadAdminData();
        }

        function loadAdminData() {
            const table = document.getElementById('admin-table');
            let totalProfit = 0;
            table.innerHTML = "";

            transactions.forEach(t => {
                const rate = t.month === 1 ? 0.25 : 0.05;
                const tkProfit = t.fee * rate;
                const teacherShare = t.fee - tkProfit;
                totalProfit += tkProfit;

                table.innerHTML += `
                    <tr class="hover:bg-blue-50">
                        <td class="p-4">
                            <p class="font-bold text-blue-700">${t.student}</p>
                            <p class="text-[10px] text-gray-400">Tutor: ${t.teacher}</p>
                        </td>
                        <td class="p-4">
                            <span class="${t.month === 1 ? 'bg-orange-100 text-orange-600' : 'bg-gray-100 text-gray-500'} px-2 py-0.5 rounded-full font-black text-[9px] uppercase">
                                ${t.month === 1 ? 'New Match' : 'Recurring'}
                            </span>
                        </td>
                        <td class="p-4 font-bold">₹${t.fee}</td>
                        <td class="p-4 font-black text-blue-700 underline">₹${tkProfit} (${rate*100}%)</td>
                        <td class="p-4 font-bold text-gray-500 italic uppercase">₹${teacherShare}</td>
                        <td class="p-4 flex gap-2">
                            <button onclick="alert('Sending WhatsApp Invoice...')" class="text-green-600 hover:scale-110"><i class="fab fa-whatsapp text-lg"></i></button>
                            <button class="text-blue-500"><i class="fas fa-print"></i></button>
                        </td>
                    </tr>
                `;
            });
            document.getElementById('total-commission').innerText = "₹" + totalProfit;
        }

        // Attendance Heatmap Generator
        function generateHeatmap() {
            const heatmap = document.getElementById('heatmap');
            for(let i=0; i<28; i++) {
                const day = document.createElement('div');
                const active = Math.random() > 0.3;
                day.className = `h-3 w-3 rounded-sm ${active ? 'bg-green-500 shadow-sm' : 'bg-red-200'}`;
                heatmap.appendChild(day);
            }
        }

        function detectLoc() {
            alert("Geolocation: Jaipur Live. Fetching Sellers (Tutors) in 5KM geofence...");
        }

        function awardCoins() {
            alert("TK AI Reviewing Video... Success! 50 Coins Awarded.");
            let current = parseInt(document.getElementById('nav-coins').innerText.replace(',',''));
            current += 50;
            document.getElementById('nav-coins').innerText = current.toLocaleString();
            document.getElementById('coin-disp').innerText = current.toLocaleString();
        }

        function requestDemo(name) {
            const msg = `Amazon-Style Order: TK Home Tuition Demo Request\n\nSeller (Teacher): ${name}\nStudent: Guest\nLocation: Jaipur\n\nConfirm Match?`;
            window.open(`https://wa.me/91XXXXXXXXXX?text=${encodeURIComponent(msg)}`);
        }

        // Init
        generateHeatmap();
    </script>
</body>
</html>
